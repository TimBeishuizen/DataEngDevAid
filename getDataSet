import xml.etree.cElementTree as ET

# Can also add the other files. I can't sync them yet
tree = ET.ElementTree(file='IATIACTIVITIES19972007.xml')

#Important, a lot of the elements have a child named narrative/value containing the name/value under text

# Find all names of several parts of the project
# Participating org (project): "//participating-org[@role='4']"
# Reporting org (project): "//reporting-org"
# Provider org (transaction): "//provider-org"
# Receiver org (transaction): "//receiver-org"
# Recipient region (project): "//recipient-region"
# Recipient country (project): "//recipient-country"
# Sector (project): "//sector"
# Policy marker (project): "//policy-marker"

for elem in tree.findall("//iati-activity"):
    print("New element:", elem.tag, elem.attrib, elem.text)
    for child_elem in elem.findall("./*"):
        print(child_elem.tag, child_elem.attrib, child_elem.text)